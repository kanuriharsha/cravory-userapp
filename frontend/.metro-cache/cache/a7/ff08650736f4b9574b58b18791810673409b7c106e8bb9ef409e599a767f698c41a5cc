{"dependencies":[{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":13,"column":0,"index":500},"end":{"line":13,"column":33,"index":533}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"D2C_MILESTONES\", {\n    enumerable: true,\n    get: function () {\n      return D2C_MILESTONES;\n    }\n  });\n  Object.defineProperty(exports, \"D2C_PACKAGING_FEE\", {\n    enumerable: true,\n    get: function () {\n      return D2C_PACKAGING_FEE;\n    }\n  });\n  Object.defineProperty(exports, \"D2C_SHIPPING_FEE\", {\n    enumerable: true,\n    get: function () {\n      return D2C_SHIPPING_FEE;\n    }\n  });\n  exports.calcD2CPricing = calcD2CPricing;\n  Object.defineProperty(exports, \"useD2CStore\", {\n    enumerable: true,\n    get: function () {\n      return useD2CStore;\n    }\n  });\n  var _zustand = require(_dependencyMap[0], \"zustand\");\n  /**\r\n   * d2cStore — Dedicated Zustand store for the Authentic Originals D2C flow.\r\n   *\r\n   * ARCHITECTURE RESTRICTIONS (Part 21):\r\n   *  • Completely separate from orderStore / local restaurant cart\r\n   *  • No rider assignment logic\r\n   *  • No instant delivery timers\r\n   *  • No live GPS tracking (milestone-only tracking)\r\n   *  • Region branding only – vendor identity is never exposed in state\r\n   *  • Prepaid only (COD flag always false)\r\n   *  • Pincode is mandatory – stored alongside delivery address\r\n   */\n\n  // ── Types ──────────────────────────────────────────────────────────────────\n\n  // ── D2C Milestone definitions (7 stages, Part 14) ────────────────────────\n  const D2C_MILESTONES = [{\n    key: 'order_confirmed',\n    label: 'Order Confirmed',\n    sub: 'Your origin order is confirmed and being prepared.',\n    icon: 'checkmark-circle'\n  }, {\n    key: 'preparing_at_origin',\n    label: 'Preparing at Origin',\n    sub: 'Artisans at the origin town are preparing your item.',\n    icon: 'restaurant-outline'\n  }, {\n    key: 'packed_ready',\n    label: 'Packed & Ready for Dispatch',\n    sub: 'Item carefully packed and ready to ship.',\n    icon: 'cube-outline'\n  }, {\n    key: 'shipped_origin',\n    label: 'Shipped from Origin Town',\n    sub: 'Item handed to long-distance courier at origin.',\n    icon: 'send-outline'\n  }, {\n    key: 'in_transit',\n    label: 'In Transit (Courier Partner)',\n    sub: 'Package is travelling to your city via courier.',\n    icon: 'train-outline'\n  }, {\n    key: 'out_for_delivery',\n    label: 'Out for Delivery',\n    sub: 'Your package is out for final delivery today.',\n    icon: 'bicycle'\n  }, {\n    key: 'delivered',\n    label: 'Delivered Successfully',\n    sub: 'Authentic origin item delivered to your door.',\n    icon: 'home'\n  }];\n  // ── Pricing constants (MVP – future: compute via PIN-to-PIN API) ─────────\n  const D2C_PACKAGING_FEE = 49;\n  const D2C_SHIPPING_FEE = 99; // placeholder until PIN API is live\n\n  function calcD2CPricing(productPrice) {\n    const total = productPrice + D2C_PACKAGING_FEE + D2C_SHIPPING_FEE;\n    return {\n      productPrice,\n      premiumPackagingFee: D2C_PACKAGING_FEE,\n      longDistanceShipping: D2C_SHIPPING_FEE,\n      total\n    };\n  }\n\n  // ── Store interface ────────────────────────────────────────────────────────\n\n  const EMPTY_ADDRESS = {\n    fullName: '',\n    mobile: '',\n    address: '',\n    city: '',\n    state: '',\n    pincode: '',\n    landmark: ''\n  };\n  // ── Store implementation ───────────────────────────────────────────────────\n\n  const useD2CStore = (0, _zustand.create)((set, get) => ({\n    d2cProduct: null,\n    d2cAddress: Object.assign({}, EMPTY_ADDRESS),\n    d2cOrder: null,\n    setD2cProduct: product => set({\n      d2cProduct: product\n    }),\n    updateD2cAddress: fields => set(state => ({\n      d2cAddress: Object.assign({}, state.d2cAddress, fields)\n    })),\n    placeD2cOrder: paymentMethod => {\n      const {\n        d2cProduct,\n        d2cAddress\n      } = get();\n      if (!d2cProduct) return;\n      const pricing = calcD2CPricing(d2cProduct.price);\n      const order = {\n        // D2C- prefix makes it visually distinct from local order IDs\n        orderId: `D2C-${Date.now().toString(36).toUpperCase()}`,\n        product: d2cProduct,\n        address: Object.assign({}, d2cAddress),\n        pricing,\n        paymentMethod,\n        placedAt: new Date().toISOString(),\n        milestoneIndex: 0,\n        // starts at \"Order Confirmed\"\n        courierPartner: 'Delhivery' // placeholder; future: resolved from PIN API\n      };\n      set({\n        d2cOrder: order\n      });\n    },\n    advanceMilestone: () => set(state => {\n      if (!state.d2cOrder) return state;\n      const next = Math.min(state.d2cOrder.milestoneIndex + 1, D2C_MILESTONES.length - 1);\n      return {\n        d2cOrder: Object.assign({}, state.d2cOrder, {\n          milestoneIndex: next\n        })\n      };\n    }),\n    isD2COrderActive: () => {\n      const {\n        d2cOrder\n      } = get();\n      if (!d2cOrder) return false;\n      return d2cOrder.milestoneIndex < D2C_MILESTONES.length - 1;\n    },\n    resetD2cFlow: () => set({\n      d2cProduct: null,\n      d2cAddress: Object.assign({}, EMPTY_ADDRESS),\n      d2cOrder: null\n    })\n  }));\n});","lineCount":167,"map":[[7,2,55,0,"Object"],[7,8,55,0],[7,9,55,0,"defineProperty"],[7,23,55,0],[7,24,55,0,"exports"],[7,31,55,0],[8,4,55,0,"enumerable"],[8,14,55,0],[9,4,55,0,"get"],[9,7,55,0],[9,18,55,0,"get"],[9,19,55,0],[10,6,55,0],[10,13,55,0,"D2C_MILESTONES"],[10,27,55,0],[11,4,55,0],[12,2,55,0],[13,2,129,0,"Object"],[13,8,129,0],[13,9,129,0,"defineProperty"],[13,23,129,0],[13,24,129,0,"exports"],[13,31,129,0],[14,4,129,0,"enumerable"],[14,14,129,0],[15,4,129,0,"get"],[15,7,129,0],[15,18,129,0,"get"],[15,19,129,0],[16,6,129,0],[16,13,129,0,"D2C_PACKAGING_FEE"],[16,30,129,0],[17,4,129,0],[18,2,129,0],[19,2,130,0,"Object"],[19,8,130,0],[19,9,130,0,"defineProperty"],[19,23,130,0],[19,24,130,0,"exports"],[19,31,130,0],[20,4,130,0,"enumerable"],[20,14,130,0],[21,4,130,0,"get"],[21,7,130,0],[21,18,130,0,"get"],[21,19,130,0],[22,6,130,0],[22,13,130,0,"D2C_SHIPPING_FEE"],[22,29,130,0],[23,4,130,0],[24,2,130,0],[25,2,132,0,"exports"],[25,9,132,0],[25,10,132,0,"calcD2CPricing"],[25,24,132,0],[25,27,132,0,"calcD2CPricing"],[25,41,132,0],[26,2,173,0,"Object"],[26,8,173,0],[26,9,173,0,"defineProperty"],[26,23,173,0],[26,24,173,0,"exports"],[26,31,173,0],[27,4,173,0,"enumerable"],[27,14,173,0],[28,4,173,0,"get"],[28,7,173,0],[28,18,173,0,"get"],[28,19,173,0],[29,6,173,0],[29,13,173,0,"useD2CStore"],[29,24,173,0],[30,4,173,0],[31,2,173,0],[32,2,13,0],[32,6,13,0,"_zustand"],[32,14,13,0],[32,17,13,0,"require"],[32,24,13,0],[32,25,13,0,"_dependencyMap"],[32,39,13,0],[33,2,1,0],[34,0,2,0],[35,0,3,0],[36,0,4,0],[37,0,5,0],[38,0,6,0],[39,0,7,0],[40,0,8,0],[41,0,9,0],[42,0,10,0],[43,0,11,0],[44,0,12,0],[46,2,15,0],[48,2,54,0],[49,2,55,7],[49,8,55,13,"D2C_MILESTONES"],[49,22,55,27],[49,25,55,30],[49,26,56,2],[50,4,57,4,"key"],[50,7,57,7],[50,9,57,9],[50,26,57,26],[51,4,58,4,"label"],[51,9,58,9],[51,11,58,11],[51,28,58,28],[52,4,59,4,"sub"],[52,7,59,7],[52,9,59,9],[52,61,59,61],[53,4,60,4,"icon"],[53,8,60,8],[53,10,60,10],[54,2,61,2],[54,3,61,3],[54,5,62,2],[55,4,63,4,"key"],[55,7,63,7],[55,9,63,9],[55,30,63,30],[56,4,64,4,"label"],[56,9,64,9],[56,11,64,11],[56,32,64,32],[57,4,65,4,"sub"],[57,7,65,7],[57,9,65,9],[57,63,65,63],[58,4,66,4,"icon"],[58,8,66,8],[58,10,66,10],[59,2,67,2],[59,3,67,3],[59,5,68,2],[60,4,69,4,"key"],[60,7,69,7],[60,9,69,9],[60,23,69,23],[61,4,70,4,"label"],[61,9,70,9],[61,11,70,11],[61,40,70,40],[62,4,71,4,"sub"],[62,7,71,7],[62,9,71,9],[62,51,71,51],[63,4,72,4,"icon"],[63,8,72,8],[63,10,72,10],[64,2,73,2],[64,3,73,3],[64,5,74,2],[65,4,75,4,"key"],[65,7,75,7],[65,9,75,9],[65,25,75,25],[66,4,76,4,"label"],[66,9,76,9],[66,11,76,11],[66,37,76,37],[67,4,77,4,"sub"],[67,7,77,7],[67,9,77,9],[67,58,77,58],[68,4,78,4,"icon"],[68,8,78,8],[68,10,78,10],[69,2,79,2],[69,3,79,3],[69,5,80,2],[70,4,81,4,"key"],[70,7,81,7],[70,9,81,9],[70,21,81,21],[71,4,82,4,"label"],[71,9,82,9],[71,11,82,11],[71,41,82,41],[72,4,83,4,"sub"],[72,7,83,7],[72,9,83,9],[72,58,83,58],[73,4,84,4,"icon"],[73,8,84,8],[73,10,84,10],[74,2,85,2],[74,3,85,3],[74,5,86,2],[75,4,87,4,"key"],[75,7,87,7],[75,9,87,9],[75,27,87,27],[76,4,88,4,"label"],[76,9,88,9],[76,11,88,11],[76,29,88,29],[77,4,89,4,"sub"],[77,7,89,7],[77,9,89,9],[77,56,89,56],[78,4,90,4,"icon"],[78,8,90,8],[78,10,90,10],[79,2,91,2],[79,3,91,3],[79,5,92,2],[80,4,93,4,"key"],[80,7,93,7],[80,9,93,9],[80,20,93,20],[81,4,94,4,"label"],[81,9,94,9],[81,11,94,11],[81,35,94,35],[82,4,95,4,"sub"],[82,7,95,7],[82,9,95,9],[82,56,95,56],[83,4,96,4,"icon"],[83,8,96,8],[83,10,96,10],[84,2,97,2],[84,3,97,3],[84,4,98,10],[85,2,128,0],[86,2,129,7],[86,8,129,13,"D2C_PACKAGING_FEE"],[86,25,129,30],[86,28,129,33],[86,30,129,35],[87,2,130,7],[87,8,130,13,"D2C_SHIPPING_FEE"],[87,24,130,29],[87,27,130,32],[87,29,130,34],[87,30,130,35],[87,31,130,36],[89,2,132,7],[89,11,132,16,"calcD2CPricing"],[89,25,132,30,"calcD2CPricing"],[89,26,132,31,"productPrice"],[89,38,132,51],[89,40,132,65],[90,4,133,2],[90,10,133,8,"total"],[90,15,133,13],[90,18,133,16,"productPrice"],[90,30,133,28],[90,33,133,31,"D2C_PACKAGING_FEE"],[90,50,133,48],[90,53,133,51,"D2C_SHIPPING_FEE"],[90,69,133,67],[91,4,134,2],[91,11,134,9],[92,6,135,4,"productPrice"],[92,18,135,16],[93,6,136,4,"premiumPackagingFee"],[93,25,136,23],[93,27,136,25,"D2C_PACKAGING_FEE"],[93,44,136,42],[94,6,137,4,"longDistanceShipping"],[94,26,137,24],[94,28,137,26,"D2C_SHIPPING_FEE"],[94,44,137,42],[95,6,138,4,"total"],[96,4,139,2],[96,5,139,3],[97,2,140,0],[99,2,142,0],[101,2,144,0],[101,8,144,6,"EMPTY_ADDRESS"],[101,21,144,31],[101,24,144,34],[102,4,145,2,"fullName"],[102,12,145,10],[102,14,145,12],[102,16,145,14],[103,4,146,2,"mobile"],[103,10,146,8],[103,12,146,10],[103,14,146,12],[104,4,147,2,"address"],[104,11,147,9],[104,13,147,11],[104,15,147,13],[105,4,148,2,"city"],[105,8,148,6],[105,10,148,8],[105,12,148,10],[106,4,149,2,"state"],[106,9,149,7],[106,11,149,9],[106,13,149,11],[107,4,150,2,"pincode"],[107,11,150,9],[107,13,150,11],[107,15,150,13],[108,4,151,2,"landmark"],[108,12,151,10],[108,14,151,12],[109,2,152,0],[109,3,152,1],[110,2,171,0],[112,2,173,7],[112,8,173,13,"useD2CStore"],[112,19,173,24],[112,22,173,27],[112,26,173,27,"create"],[112,34,173,33],[112,35,173,33,"create"],[112,41,173,33],[112,43,173,44],[112,44,173,45,"set"],[112,47,173,48],[112,49,173,50,"get"],[112,52,173,53],[112,58,173,59],[113,4,174,2,"d2cProduct"],[113,14,174,12],[113,16,174,14],[113,20,174,18],[114,4,175,2,"d2cAddress"],[114,14,175,12],[114,16,175,12,"Object"],[114,22,175,12],[114,23,175,12,"assign"],[114,29,175,12],[114,34,175,19,"EMPTY_ADDRESS"],[114,47,175,32],[114,48,175,34],[115,4,176,2,"d2cOrder"],[115,12,176,10],[115,14,176,12],[115,18,176,16],[116,4,178,2,"setD2cProduct"],[116,17,178,15],[116,19,178,18,"product"],[116,26,178,25],[116,30,178,30,"set"],[116,33,178,33],[116,34,178,34],[117,6,178,36,"d2cProduct"],[117,16,178,46],[117,18,178,48,"product"],[118,4,178,56],[118,5,178,57],[118,6,178,58],[119,4,180,2,"updateD2cAddress"],[119,20,180,18],[119,22,180,21,"fields"],[119,28,180,27],[119,32,181,4,"set"],[119,35,181,7],[119,36,181,9,"state"],[119,41,181,14],[119,46,181,20],[120,6,181,22,"d2cAddress"],[120,16,181,32],[120,18,181,32,"Object"],[120,24,181,32],[120,25,181,32,"assign"],[120,31,181,32],[120,36,181,39,"state"],[120,41,181,44],[120,42,181,45,"d2cAddress"],[120,52,181,55],[120,54,181,60,"fields"],[120,60,181,66],[121,4,181,69],[121,5,181,70],[121,6,181,71],[121,7,181,72],[122,4,183,2,"placeD2cOrder"],[122,17,183,15],[122,19,183,18,"paymentMethod"],[122,32,183,31],[122,36,183,36],[123,6,184,4],[123,12,184,10],[124,8,184,12,"d2cProduct"],[124,18,184,22],[125,8,184,24,"d2cAddress"],[126,6,184,35],[126,7,184,36],[126,10,184,39,"get"],[126,13,184,42],[126,14,184,43],[126,15,184,44],[127,6,185,4],[127,10,185,8],[127,11,185,9,"d2cProduct"],[127,21,185,19],[127,23,185,21],[128,6,187,4],[128,12,187,10,"pricing"],[128,19,187,17],[128,22,187,20,"calcD2CPricing"],[128,36,187,34],[128,37,187,35,"d2cProduct"],[128,47,187,45],[128,48,187,46,"price"],[128,53,187,51],[128,54,187,52],[129,6,188,4],[129,12,188,10,"order"],[129,17,188,25],[129,20,188,28],[130,8,189,6],[131,8,190,6,"orderId"],[131,15,190,13],[131,17,190,15],[131,24,190,22,"Date"],[131,28,190,26],[131,29,190,27,"now"],[131,32,190,30],[131,33,190,31],[131,34,190,32],[131,35,190,33,"toString"],[131,43,190,41],[131,44,190,42],[131,46,190,44],[131,47,190,45],[131,48,190,46,"toUpperCase"],[131,59,190,57],[131,60,190,58],[131,61,190,59],[131,63,190,61],[132,8,191,6,"product"],[132,15,191,13],[132,17,191,15,"d2cProduct"],[132,27,191,25],[133,8,192,6,"address"],[133,15,192,13],[133,17,192,13,"Object"],[133,23,192,13],[133,24,192,13,"assign"],[133,30,192,13],[133,35,192,20,"d2cAddress"],[133,45,192,30],[133,46,192,32],[134,8,193,6,"pricing"],[134,15,193,13],[135,8,194,6,"paymentMethod"],[135,21,194,19],[136,8,195,6,"placedAt"],[136,16,195,14],[136,18,195,16],[136,22,195,20,"Date"],[136,26,195,24],[136,27,195,25],[136,28,195,26],[136,29,195,27,"toISOString"],[136,40,195,38],[136,41,195,39],[136,42,195,40],[137,8,196,6,"milestoneIndex"],[137,22,196,20],[137,24,196,22],[137,25,196,23],[138,8,196,25],[139,8,197,6,"courierPartner"],[139,22,197,20],[139,24,197,22],[139,35,197,33],[139,36,197,35],[140,6,198,4],[140,7,198,5],[141,6,199,4,"set"],[141,9,199,7],[141,10,199,8],[142,8,199,10,"d2cOrder"],[142,16,199,18],[142,18,199,20,"order"],[143,6,199,26],[143,7,199,27],[143,8,199,28],[144,4,200,2],[144,5,200,3],[145,4,202,2,"advanceMilestone"],[145,20,202,18],[145,22,202,20,"advanceMilestone"],[145,23,202,20],[145,28,203,4,"set"],[145,31,203,7],[145,32,203,9,"state"],[145,37,203,14],[145,41,203,19],[146,6,204,6],[146,10,204,10],[146,11,204,11,"state"],[146,16,204,16],[146,17,204,17,"d2cOrder"],[146,25,204,25],[146,27,204,27],[146,34,204,34,"state"],[146,39,204,39],[147,6,205,6],[147,12,205,12,"next"],[147,16,205,16],[147,19,205,19,"Math"],[147,23,205,23],[147,24,205,24,"min"],[147,27,205,27],[147,28,205,28,"state"],[147,33,205,33],[147,34,205,34,"d2cOrder"],[147,42,205,42],[147,43,205,43,"milestoneIndex"],[147,57,205,57],[147,60,205,60],[147,61,205,61],[147,63,205,63,"D2C_MILESTONES"],[147,77,205,77],[147,78,205,78,"length"],[147,84,205,84],[147,87,205,87],[147,88,205,88],[147,89,205,89],[148,6,206,6],[148,13,206,13],[149,8,206,15,"d2cOrder"],[149,16,206,23],[149,18,206,23,"Object"],[149,24,206,23],[149,25,206,23,"assign"],[149,31,206,23],[149,36,206,30,"state"],[149,41,206,35],[149,42,206,36,"d2cOrder"],[149,50,206,44],[150,10,206,46,"milestoneIndex"],[150,24,206,60],[150,26,206,62,"next"],[151,8,206,66],[152,6,206,69],[152,7,206,70],[153,4,207,4],[153,5,207,5],[153,6,207,6],[154,4,209,2,"isD2COrderActive"],[154,20,209,18],[154,22,209,20,"isD2COrderActive"],[154,23,209,20],[154,28,209,26],[155,6,210,4],[155,12,210,10],[156,8,210,12,"d2cOrder"],[157,6,210,21],[157,7,210,22],[157,10,210,25,"get"],[157,13,210,28],[157,14,210,29],[157,15,210,30],[158,6,211,4],[158,10,211,8],[158,11,211,9,"d2cOrder"],[158,19,211,17],[158,21,211,19],[158,28,211,26],[158,33,211,31],[159,6,212,4],[159,13,212,11,"d2cOrder"],[159,21,212,19],[159,22,212,20,"milestoneIndex"],[159,36,212,34],[159,39,212,37,"D2C_MILESTONES"],[159,53,212,51],[159,54,212,52,"length"],[159,60,212,58],[159,63,212,61],[159,64,212,62],[160,4,213,2],[160,5,213,3],[161,4,215,2,"resetD2cFlow"],[161,16,215,14],[161,18,215,16,"resetD2cFlow"],[161,19,215,16],[161,24,216,4,"set"],[161,27,216,7],[161,28,216,8],[162,6,216,10,"d2cProduct"],[162,16,216,20],[162,18,216,22],[162,22,216,26],[163,6,216,28,"d2cAddress"],[163,16,216,38],[163,18,216,38,"Object"],[163,24,216,38],[163,25,216,38,"assign"],[163,31,216,38],[163,36,216,45,"EMPTY_ADDRESS"],[163,49,216,58],[163,50,216,60],[164,6,216,62,"d2cOrder"],[164,14,216,70],[164,16,216,72],[165,4,216,77],[165,5,216,78],[166,2,217,0],[166,3,217,1],[166,4,217,2],[166,5,217,3],[167,0,217,4],[167,3]],"functionMap":{"names":["<global>","calcD2CPricing","create$argument_0","setD2cProduct","updateD2cAddress","set$argument_0","placeD2cOrder","advanceMilestone","isD2COrderActive","resetD2cFlow"],"mappings":"AAA;OCmI;CDQ;4CEiC;iBCK,yCD;oBEE;QCC,+DD,CF;iBIE;GJiB;oBKE;QFC;KEI,CL;oBME;GNI;gBOE;+EPC;EFC"},"hasCjsExports":false},"type":"js/module"}]}